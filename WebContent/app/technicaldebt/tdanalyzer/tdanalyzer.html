<section class="content" ng-show="!filtered.tags[0]">
  <div class="alert alert-warn-vmtd alert-dismissable" >
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <i class="icon fa fa-hand-o-left"></i>Please, select at least one version in the left menu.
  </div>
</section>
<div ng-show="filtered.repository != null && currentPage == 'tdanalyzer'">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      TD Analyzer
      <small>Identify which classes have Technical Debt {{typesAnalized}}/{{types.length}}</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="tdevolution" ng-click="TDAnalyzerCtrl.selectView('tdevolution')"><i class="fa fa-line-chart"></i> TD Evolution</a></li>
      <li class="active">TD Analyzer</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">

    <div class="box-header with-border">
      <i class="fa fa-database" style="font-size: 15px"></i>
      <h2 class="box-title">{{filtered.repository.name}}</h2>
    </div><!-- /.box-header -->

    <div class="row">

      <div class="col-sm-12">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">Filters</h3>
            <span class="label label-default pull-right"><i class="fa fa-filter"></i></span>
          </div><!-- /.box-header -->
          <div class="box-body">
            <div class="col-sm-3">
              <div class="form-group">
                <label>Identification date:</label>
                <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                  </div>
                  <input type="text" class="form-control pull-right" id="filter-identificationdate" ng-model="filter.identificationDate" ng-change="filterApply()">
                </div><!-- /.input group -->
              </div>
            </div>

            <div class="col-sm-3">
              <div class="form-group">
                <label>Types:</label>
                <select class="form-control select2" multiple="multiple" style="width: 100%;" ng-model="filter.type" ng-change="filterApply()">
                  <option value="Code Debt">Code Debt</option>
                  <option value="Design Debt" selected="selected">Design Debt</option>
                </select>
              </div><!-- /.form-group -->
            </div>

            <div class="col-sm-3">
              <div class="form-group">
                <label>TD Item:</label>
                <select class="form-control select2" multiple="multiple" style="width: 100%;" ng-model="filter.tdItem" ng-change="filterApply()">
                  <option value="Cyclomatic Complexity">Cyclomatic Complexity</option>
                  <option value="Duplicated Code" ng-selected="string" selected="selected">Duplicated Code</option>
                  <option value="Long Method" selected="selected">Long Method</option>
                </select>
              </div><!-- /.form-group -->
            </div>

            <div class="col-sm-3">
              <div class="form-group">
                <label>Is TD Item?</label>
                <select class="form-control select2" multiple="multiple" data-placeholder="Select a State" style="width: 100%;" ng-model="filter.isTdItem" ng-change="filterApply()">
                  <option value="true">Yes</option>
                  <option value="false">No</option>
                </select>
              </div><!-- /.form-group -->
            </div>

          </div><!-- /.box-body -->
        </div><!-- /.box -->
      </div>


      <div class="col-xs-12">

        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">TD Data Collection</h3>
            <span class="label label-default pull-right"><i class="fa fa-table"></i></span>
          </div><!-- /.box-header -->

          <div class="box-body">
            <table id="tditem-datatable" class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Identification date</th>
                  <th>Type</th>
                  <th>TD Item</th>
                  <th>Occurred by</th>
                  <th>Method</th>
                  <th>TD item?</th>
                  <th>Principal</th>
                  <th>Interest amount</th>
                  <th>New interest probability</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="item in tdItemFiltered" ng-click="tdItemEdit(item)" style="cursor: pointer;">
                  <td>{{tdItemFormatDate(item.identificationDate)}}</td>
                  <td><span class="label" style="background-color:#1B93A7!important; margin-right:3px;">{{item.type}}</span></td>
                  <td><span class="label label-default">{{item.tdItem}}</span></td>
                  <td><img ng-src="{{item.occurredBy.avatar}}" class="avatar-small" alt="{{item.occurredBy.name}}"> {{item.occurredBy.name}}</td>
                  <td>{{item.method}}</td>
                  <td>{{(item.isTdItem) ? "Yes" : "No"}}</td>
                  <td>{{item.principal}}<span ng-show="item.principal!=''">h</span></td>
                  <td>{{item.interestAmount}}<span ng-show="item.interestAmount!=''">h</span></td>
                  <td>{{item.newInterestProbability}}<span ng-show="item.newInterestProbability!=''">%</span></td>
                  <td>{{tdItemFormatNotes(item.notes)}}</td>
                </tr>
              </tbody>
            </table>
          </div><!-- /.box-body -->
        </div><!-- /.box -->
      </div><!-- /.col -->
    </div><!-- /.row -->
  </section><!-- /.content -->
</div>